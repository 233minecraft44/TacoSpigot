From c4eeccdc934123d0abdb3e94a4baa0327152b6bb Mon Sep 17 00:00:00 2001
From: Techcable <Techcable@outlook.com>
Date: Tue, 6 Jan 2015 22:12:31 -0600
Subject: [PATCH] POM changes

Use Java 8
Use ASM

diff --git a/pom.xml b/pom.xml
index bc6964d..6da7db9 100644
--- a/pom.xml
+++ b/pom.xml
@@ -4,23 +4,29 @@
     <modelVersion>4.0.0</modelVersion>
 
     <parent>
-        <groupId>org.github.paperspigot</groupId>
-        <artifactId>paperspigot-parent</artifactId>
+        <groupId>net.techcable.tacospigot</groupId>
+        <artifactId>parent</artifactId>
         <version>dev-SNAPSHOT</version>
     </parent>
 
-    <groupId>org.github.paperspigot</groupId>
-    <artifactId>paperspigot-api</artifactId>
-    <version>1.8.8-R0.1-SNAPSHOT</version>
+    <groupId>net.techcable.tacospigot</groupId>
+    <artifactId>api</artifactId>
+    <version>1.8.8-R0.2-SNAPSHOT</version>
     <packaging>jar</packaging>
 
-    <name>PaperSpigot-API</name>
-    <url>https://hub.spigotmc.org/stash/projects/PAPER/</url>
+    <name>TacoSpigot-API</name>
+    <url>https://github.com/TacoSpigot</url>
     <description>An enhanced plugin API for Minecraft servers.</description>
 
     <properties>
-        <maven.compiler.source>1.6</maven.compiler.source>
-        <maven.compiler.target>1.6</maven.compiler.target>
+        <!--
+         Enable the new features of java 8
+         We then proceed to use retrolambda to backport the jar to java 8
+         This isn't for backwards compatiblity though, since we require a java 8 SDK!
+         We do this to fix weird issues with commandhelper's outdated libraries, while still being java 8-powered! (mostly)
+         -->
+        <maven.compiler.source>1.8</maven.compiler.source>
+        <maven.compiler.target>1.8</maven.compiler.target>
         <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
     </properties>
 
@@ -104,6 +110,13 @@
             <version>1.3</version>
             <scope>test</scope>
         </dependency>
+        <!-- TacoSpigot start - ASM -->
+        <dependency>
+            <groupId>org.ow2.asm</groupId>
+            <artifactId>asm-all</artifactId>
+            <version>5.0</version>
+        </dependency>
+        <!-- TacoSpigot end -->
     </dependencies>
 
     <build>
@@ -128,6 +141,7 @@
                     </dependency>
                 </dependencies>
             </plugin>
+            <!-- Fix weird issues with stuff
             <plugin>
                 <groupId>org.codehaus.mojo</groupId>
                 <artifactId>animal-sniffer-maven-plugin</artifactId>
@@ -148,6 +162,24 @@
                     </signature>
                 </configuration>
             </plugin>
+            -->
+            <!-- Backport the jar to java 6 (see above note) -->
+            <plugin>
+                <groupId>net.orfjackal.retrolambda</groupId>
+                <artifactId>retrolambda-maven-plugin</artifactId>
+                <version>2.0.6</version>
+                <executions>
+                    <execution>
+                        <goals>
+                            <goal>process-main</goal>
+                            <goal>process-test</goal>
+                        </goals>
+                    </execution>
+                </executions>
+                <configuration>
+                    <target>1.6</target>
+                </configuration>
+            </plugin>
             <plugin>
                 <groupId>org.apache.maven.plugins</groupId>
                 <artifactId>maven-shade-plugin</artifactId>
-- 
2.6.2

